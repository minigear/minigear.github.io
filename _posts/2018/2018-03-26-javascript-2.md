---
layout: "post"
title: "javascript-FP"
date:   "2018-03-26 15:24"
categories: [Dev]
permalink: /2018/:year/:month/:day/:title/
tags: [javascript]
comments: true
---
## 함수지향
---
### 유효범위
- 전역변수 와 지역변수의 차이점
  - 전역변수 : 함수 밖에서 선언된 변수, 해당 코드 전역에서 접근이 가능하다.
  - 지역변수 : 함수 안에서 선언된 변수, 선언된 함수 내에서만 접근이 가능하다.  
**주의 : 변수를 선언할 때 꼭 var를 사용해서 선언한다. 전역 변수의 경우 필요가 명확할 때만 사용한다.**   

---
#### 전역변수의 사용
*불가피하게 전역변수를 사용해야 하는 경우는 하나의 객체를 전역변수로 만들고 객체의 속성으로 변수를 관리하는 방법을 사용한다.*  
익명함수 : 모듈화 기법으로 자주 사용됨.  

---
#### 유효범위 대상(함수)
*자바스크립트는 함수에 대한 유효범위만을 제공한다.*   
함수안에서 선언한 변수만이 지역 변수이다.   

---
#### 정적 유효범위
*자바스크립트는 함수거 선언된 시점에서의 유효범위를 갖는다.*  
-> 사용(호출)될 때가 아닌 정의될 때의 전역변수에 접근하게 된다.

---
### 값으로서의 함수 first class citizen
- 변수에 저장할 수 있다.
- 다른함수의 인자로도 전달될 수 있다.
- 함수의 리턴값으로도 사용할 수 있다.
- 배열에 저장할 수 있다.  

---
### 콜백
인자로 받은 함수에 따라 함수의 동작이 변경되는 것을 콜백이라고 한다.  
내장 객체 vs 사용자정의 객체  
- 처리의 위임
- 비동기 처리

*Ajax(asynchronous javascript and xml)*  

---
### 클로저
**내부함수가 외부함수의 context에 접근할 수 있는 것**  

#### 내부함수
- 함수 안에 함수를 선언하면 응집성이 높아진다  
- 내부 함수는 외부함수의 지역변수에 접근할 수 있다.
- 외부 함수의 실행이 끝나도 내부함수는 외부함수의 변수에 접근할 수 있다.
- class와 비슷하게 만들어 객체가 **private 값** 을 가질 수 있도록 한다.
- 외부함수는 class 처럼 내부함수는 method로 동작한다.
- 변수에 외부 함수에서 리턴하는 내부함수를 담은 객체를 담는다.
- 내부함수를 객체에 저장하고 다시 재정의 하면 재정의 된 값들은 앞에서 저장된 내부변수에 영향을 미치지 않는다.  
-> function이 객체로 각각 메모리에 저장됨으로 추측된다.

---
### arguments
- 매개변수 : parameter 선언할 때
- 인자 : argument 실제 호출되어 넘겨지는 값
- arguments : javascript에서 지정된 유사배열의 값으로 사용자들이 전달한 인자값

#### 매개변수의 수
- arguments.length : 실제 전달받은 인자의 수
- 함수.length : 선언시 인자의 수
- 활용 : 두 length를 비교하여 다를때 의도하지 않은 입력임으로 에러나 경고를 띄운다.

---
### 함수의 호출
javascript에서 함수는 일종의 객체이다.
함수 호출 방법
- func()
- func.call
- func.apply : native code (브라우저의 내장된 코드이므로 보여줄 수 없다)
``` javascript
  func.apply(null, [1,2]);

  function sum() {
    var _sum = 0;
    for(name in this) { //여기서 this는 apply에서 전달받는 객체이다
      _sum += this[name];
    }
    return _sum;
  }

  var o1={v1:10, v2:20, v3:30};
  sum.apply(o1); // -> o1.sum
````
**javascript에서의 함수는 독립적인 객체로 apply이나 call을 통해서 다른 객체에 붙여서 사용할 수 있다.**
